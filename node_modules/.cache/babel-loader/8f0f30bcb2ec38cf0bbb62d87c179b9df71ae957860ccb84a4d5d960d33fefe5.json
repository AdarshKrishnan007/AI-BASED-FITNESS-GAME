{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./Leaderboard.css\";// Responsive CSS\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getBadge=user=>{const xp=user.total_xp;if(xp>=40000)return\"üèÜ Champion\";if(xp>=30000)return\"üéñÔ∏è Top Performer\";if(xp>=20000)return\"‚öîÔ∏è Warrior\";if(xp>=15000)return\"üöÄ Pro\";if(xp>=10000)return\"üî• Master\";if(xp>=5000)return\"ü•à Intermediate\";return\"üéØ Beginner\";};const Leaderboard=()=>{var _userData$leaderboard;const userId=localStorage.getItem(\"user_id\");const[userData,setUserData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchUserStats=async()=>{try{const response=await fetch(\"http://localhost:5001/leaderboard?sort_by=xp\");if(!response.ok){throw new Error(\"Failed to fetch leaderboard data\");}const data=await response.json();console.log(\"Leaderboard data:\",data);setUserData(data);setLoading(false);}catch(err){setError(err.message);setLoading(false);}};fetchUserStats();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"leaderboard-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"leaderboard-heading\",children:\"\\uD83C\\uDFC5 Leaderboard\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),!loading&&!error&&userData&&/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"leaderboard-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Badge\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"XP\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Score\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(_userData$leaderboard=userData.leaderboard)===null||_userData$leaderboard===void 0?void 0:_userData$leaderboard.map((user,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:(user.name||user.user_id||\"Unknown\").trim()}),/*#__PURE__*/_jsx(\"td\",{children:getBadge(user)}),/*#__PURE__*/_jsx(\"td\",{children:user.level?\"Lv. \".concat(user.level):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{children:user.xp||user.total_xp||0}),/*#__PURE__*/_jsx(\"td\",{children:user.score||user.total_score||0})]},index))})]})})]})});};export default Leaderboard;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","getBadge","user","xp","total_xp","Leaderboard","_userData$leaderboard","userId","localStorage","getItem","userData","setUserData","loading","setLoading","error","setError","fetchUserStats","response","fetch","ok","Error","data","json","console","log","err","message","className","children","style","color","leaderboard","map","index","name","user_id","trim","level","concat","score","total_score"],"sources":["D:/Fitness WebApp/client/src/pages/Leaderboard/Leaderboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./Leaderboard.css\"; // Responsive CSS\r\n\r\nconst getBadge = (user) => {\r\n  const xp = user.total_xp;\r\n\r\n  if (xp >= 40000) return \"üèÜ Champion\";\r\n  if (xp >= 30000) return \"üéñÔ∏è Top Performer\";\r\n  if (xp >= 20000) return \"‚öîÔ∏è Warrior\";\r\n  if (xp >= 15000) return \"üöÄ Pro\";\r\n  if (xp >= 10000) return \"üî• Master\";\r\n  if (xp >= 5000) return \"ü•à Intermediate\";\r\n  return \"üéØ Beginner\";\r\n};\r\n\r\nconst Leaderboard = () => {\r\n  const userId = localStorage.getItem(\"user_id\");\r\n\r\n  const [userData, setUserData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchUserStats = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `http://localhost:5001/leaderboard?sort_by=xp`\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch leaderboard data\");\r\n        }\r\n        const data = await response.json();\r\n        console.log(\"Leaderboard data:\", data);\r\n        setUserData(data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserStats();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"leaderboard-wrapper\">\r\n      <div className=\"leaderboard-card\">\r\n        <h2 className=\"leaderboard-heading\">üèÖ Leaderboard</h2>\r\n\r\n        {loading && <p>Loading...</p>}\r\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n\r\n        {!loading && !error && userData && (\r\n          <div className=\"table-container\">\r\n            <table className=\"leaderboard-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Rank</th>\r\n                  <th>Name</th>\r\n                  <th>Badge</th>\r\n                  <th>Level</th>\r\n                  <th>XP</th>\r\n                  <th>Score</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {userData.leaderboard?.map((user, index) => (\r\n                  <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{(user.name || user.user_id || \"Unknown\").trim()}</td>\r\n                    <td>{getBadge(user)}</td>\r\n                    <td>{user.level ? `Lv. ${user.level}` : \"‚Äî\"}</td>\r\n                    <td>{user.xp || user.total_xp || 0}</td>\r\n                    <td>{user.score || user.total_score || 0}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Leaderboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}